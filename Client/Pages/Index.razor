@page "/"

@inject GameSignalRClient _signalRClient
@inject NavigationManager NavigationManager

<PageTitle>Rebates Simulator</PageTitle>

<h1>Rebates Simulator</h1>

<input type="button" value="Join game" @onclick="@OnJoinClick" />

@code {
    private async Task OnJoinClick()
    {
        await _signalRClient.Start();

        var joined = await _signalRClient.JoinGame();
        
        if (joined)
        {
            NavigationManager.NavigateTo("/game");
        }
    }
}
